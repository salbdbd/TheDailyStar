<div class="card mb-4 section">
    <h4 class="card-header text-center bg-light">
        Production Position Information
    </h4>
    <div class="container">
        <br />
        <form [formGroup]="productionPositionForm">
            <div class="col-md-7 center">
                <div class="form-group row">
                    <label class="col-form-label col-sm-4 "> Employee Id
                        <i class="text-danger">*</i>
                    </label>

                    <div class="input-group col-sm-8">
                        <app-employee-select-list [isRequired]="f['empCode'].invalid && (isSubmitted || f['empCode'].touched || f['empCode'].dirty)" (onChange)="f['empCode'].setValue($event.empCode);getEmpInfo()">
                        </app-employee-select-list>
                        <div *ngIf="f['empCode'].invalid && (isSubmitted || f['empCode'].touched || f['empCode'].dirty)" class="text-danger">
                            <i *ngIf="f['empCode'].errors['required']">Employee Code is required</i>
                        </div>

                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-form-label col-sm-4 ">Employee Name

                    </label>
                    <div class="col-sm-6">
                        <input readonly formControlName="empName" type="text" class="form-control" placeholder="Employee Name">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-form-label col-sm-4 ">Department

                    </label>
                    <div class="col-sm-6">
                        <input readonly formControlName="department" type="text" class="form-control" placeholder="Department">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-form-label col-sm-4 ">Designation
                    </label>
                    <div class="col-sm-6">
                        <input readonly formControlName="designation" type="text" class="form-control" placeholder="Designation">
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-form-label col-sm-4 ">Unit
                        <i class="text-danger">*</i>
                    </label>
                    <div class="col-sm-6">
                        <ng-select [ngClass]="{'is-invalid': (isSubmitted || f['unite'].touched || f['unite'].dirty) && f['unite'].invalid}" (ngModelChange)="getFloreByUniteId($event)" formControlName="unite" [items]="productionunit" bindLabel="description" bindValue="id" placeholder="Select Production Unit"
                            name="unit" id="unit">
                        </ng-select>
                        <div *ngIf="f['unite'].invalid && (isSubmitted || f['unite'].touched || f['unite'].dirty)" class="text-danger">
                            <i *ngIf="f['unite'].errors['required']">Unite Is Required</i>
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-form-label col-sm-4 ">Floor
                        <i class="text-danger">*</i>
                    </label>
                    <div class="col-sm-6">
                        <ng-select [ngClass]="{'is-invalid': (isSubmitted || f['flore'].touched || f['flore'].dirty) && f['flore'].invalid}" (ngModelChange)="getLineByFloreId($event)" formControlName="flore" [items]="allflore" bindLabel="description" bindValue="id" placeholder="Floor"></ng-select>
                        <div *ngIf="f['flore'].invalid && (isSubmitted || f['flore'].touched || f['flore'].dirty)" class="text-danger">
                            <i *ngIf="f['flore'].errors['required']">Floor Is Required</i>
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-form-label col-sm-4 ">Line
                        <i class="text-danger">*</i>
                    </label>
                    <div class="col-sm-6">
                        <ng-select [ngClass]="{'is-invalid': (isSubmitted || f['line'].touched || f['line'].dirty) && f['line'].invalid}" (ngModelChange)="getMachineByLineId($event)" formControlName="line" [items]="allLine" bindLabel="description" bindValue="id" name="line"
                            id="line" placeholder="Select Line">
                        </ng-select>
                        <div *ngIf="f['line'].invalid && (isSubmitted || f['line'].touched ||f['line'].dirty)" class="text-danger">
                            <i *ngIf="f['line'].errors['required']">Floor Is Required</i>
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-form-label col-sm-4 ">Machine
                        <i class="text-danger">*</i>
                    </label>
                    <div class="col-sm-6">
                        <ng-select [ngClass]="{'is-invalid': (isSubmitted || f['machineID'].touched ||f['machineID'].dirty) && f['machineID'].invalid}" formControlName="machineID" [items]="AllMachine" bindLabel="description" bindValue="id" placeholder="Select Machine"></ng-select>
                        <div *ngIf="f['machineID'].invalid && (isSubmitted || f['machineID'].touched || f['machineID'].dirty)" class="text-danger">
                            <i *ngIf="f['machineID'].errors['required']">Machine Is Required</i>
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-form-label col-sm-4 "> Date
                        <i class="text-danger">*</i>
                    </label>

                    <div class="input-group col-sm-6">
                        <input readonly [ngClass]="{'is-invalid': (isSubmitted || f['positionDateNgb'].touched || f['positionDateNgb'].dirty) && f['positionDateNgb'].invalid}" formControlName="positionDateNgb" class="form-control" name="dp1" placeholder="dd-mm-yyyy" ngbDatepicker
                            #d1="ngbDatepicker">
                        <div class="input-group-append">
                            <button class="input-group-text" (click)="d1.toggle()" type="button">
                                <span class="ion ion-md-calendar" style="cursor: pointer;"></span>
                            </button>
                        </div>
                    </div>
                    <label class="col-form-label col-sm-4 ">
                    </label>
                    <div *ngIf="f['positionDateNgb'].invalid && (isSubmitted || f['positionDateNgb'].touched || f['positionDateNgb'].dirty)" class="text-danger">
                        <i *ngIf="f['positionDateNgb'].errors['required']">Date Is Required</i>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-form-label col-sm-4 ">Remarks
                    </label>
                    <div class="col-sm-6">
                        <textarea formControlName="note" rows="5" class="form-control" placeholder="Remarks"></textarea>
                    </div>
                </div>
                <div class="row">
                    <div class="demo-inline-spacing mt-3" style="margin:0 auto">
                        <button (click)="reset()" type="clear" class="btn btn-info">
                        <span class="ion ion-ios-refresh"></span> Reset</button>
                        <button (click)="save()" type="" class="btn btn-success">{{btnStatus}}
                        </button>
                    </div>
                </div>
            </div>
        </form>
        <div class="data-table">
            <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>Unit</th>
                        <th>Line</th>
                        <th>Date </th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of allProduction">
                        <td>{{item.productionUnite}}</td>
                        <td>{{item.productionLine}}</td>
                        <td>{{item.positionDate | date:'dd MMM, yyyy'}}</td>
                        <td>
                            <button (click)="productionGetById(item.id);" type="" class="btn btn-sm btn-info">
                                <span class="fas fa-edit"></span></button>&nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
