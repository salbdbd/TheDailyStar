<div class="card section">
  <h4 class="card-header text-center bg-light">
      Employee Separation Information
  </h4>
  <br />
  <div class="row">
      <div class="col-md-8 center">
          <form [formGroup]="empSeparationInfo">
              <div class="form-group row">
                  <label class="col-form-label col-sm-4 "> Employee Id
          <i class="text-danger">*</i>
        </label>
                  <div class="input-group col-sm-6">
                      <app-employee-select-list [isRequired]="f['empCode'].invalid && (isSubmitted || f['empCode'].touched || f['empCode'].dirty)" (onChange)="f['empCode'].setValue($event.empCode);onSelectEmp($event)" [setEmpCode]="f['empCode'].value">
                      </app-employee-select-list>
                  </div>
                  <label class="col-form-label col-sm-4 "></label>
                  <div *ngIf="f['empCode'].invalid && (isSubmitted || f['empCode'].touched || f['empCode'].dirty)" class="text-danger">
                      <i *ngIf="f['empCode'].errors['required']">Employee Code is required</i>
                  </div>
              </div>
              <div class="form-group row">
                  <label class="col-form-label col-sm-4 ">Employee Name

        </label>
                  <div class="col-sm-6">
                      <input readonly formControlName="empName" type="text" class="form-control" placeholder="Employee Name">
                  </div>
              </div>
              <div class="form-group row">
                  <label class="col-form-label col-sm-4 ">Department

        </label>
                  <div class="col-sm-6">
                      <input readonly formControlName="department" type="text" class="form-control" placeholder="Department">
                  </div>
              </div>
              <div class="form-group row">
                  <label class="col-form-label col-sm-4 ">Designation
        </label>
                  <div class="col-sm-6">
                      <input readonly formControlName="designation" type="text" class="form-control" placeholder="Designation">
                  </div>
              </div>
              <div class="form-group row">
                  <label class="col-form-label col-sm-4 ">Joining Date
        </label>
                  <div class="input-group col-sm-6">
                      <input readonly formControlName="joinDateNgb" class="form-control" name="d" placeholder="dd-mm-yyyy" ngbDatepicker #d="ngbDatepicker">
                      <div class="input-group-append">
                          <button class="input-group-text" (click)="d.toggle()" type="button">
              <span class="ion ion-md-calendar" style="cursor: pointer;"></span>
            </button>
                      </div>
                  </div>
              </div>
              <div class="form-group row">
                  <label class="col-form-label col-sm-4 ">Separation Type
          <i class="text-danger">*</i>
        </label>
                  <div class="col-sm-6">
                      <select [ngClass]="{'is-invalid': (isSubmitted || f['resignType'].touched || f['resignType'].dirty) && f['resignType'].invalid}" formControlName="resignType" class="custom-select ">
            <option value>--Select state--</option>
            <option value="Resignation">Resignation</option>
            <option value="Rejoin">Rejoin</option>
            <option value="Terminatiuon">termination</option>
            <option value="Dismissall">Dismissal</option>
            <option value="DisCharge">Discharge</option>
            <option value="Retirement">Retirement</option>
            <option value="Early Retiremnt">Early Retirement</option>
            <option value="Removal">Removal</option>
            <option value="Death">Death</option>
          </select>
                  </div>
                  <label class="col-form-label col-sm-5 "></label>
                  <div *ngIf="f['resignType'].invalid && (isSubmitted || f['resignType'].touched || f['resignType'].dirty)" class="text-danger">
                      <i *ngIf="f['resignType'].errors['required']">Separation Type required</i>
                  </div>
              </div>
              <div class="form-group row">
                  <label class="col-form-label col-sm-4 ">Separation Date
          <i class="text-danger">*</i>
        </label>

                  <div class="input-group col-sm-6">
                      <input [ngClass]="{'is-invalid': (isSubmitted || f['dateNgb'].touched || f['dateNgb'].dirty) && f['dateNgb'].invalid}" (ngModelChange)="dateDiff()" readonly formControlName="dateNgb" class="form-control" name="d2" placeholder="dd-mm-yyyy" ngbDatepicker
                          #d2="ngbDatepicker">
                      <div class="input-group-append">
                          <button class="input-group-text" (click)="d2.toggle()" type="button">
              <span class="ion ion-md-calendar" style="cursor: pointer;"></span>
            </button>
                      </div>
                  </div>
                  <label class="col-form-label col-sm-5 "></label>
                  <div *ngIf="f['dateNgb'].invalid && (isSubmitted || f['dateNgb'].touched || f['dateNgb'].dirty)" class="text-danger">
                      <i *ngIf="f['dateNgb'].errors['required']">Separation is required</i>
                  </div>
              </div>
              <div class="form-group row">
                  <label class="col-form-label col-sm-4 ">Service Duration
        </label>
                  <div class="col-sm-6">
                      <input id="serviceDue" (click)="dateDiff()" readonly formControlName="isCanBack" type="text" class="form-control" placeholder="Service Duration">
                  </div>
              </div>
              <div class="form-group row">
                  <label class="col-form-label col-sm-4 ">Notice Day
        </label>
                  <div class="col-sm-6">
                      <input readonly formControlName="noticeDay" type="text" readonly class="form-control" placeholder="Notice Day">
                  </div>
              </div>
              <div class="form-group row">
                  <label class="col-form-label col-sm-4 ">Comment
        </label>
                  <div class="col-sm-6">
                      <textarea formControlName="reason" rows="5" class="form-control" placeholder="Comment"></textarea>
                  </div>
              </div>
              <div class="row">
                  <div class="demo-inline-spacing mt-3" style="margin:0 auto">
                      <button (click)="reset()" type="clear" class="btn btn-info">
                    <span class="ion ion-ios-refresh"></span> Reset</button>
                      <button (click)="save()" type="" class="btn btn-success"> {{btnStatus}}
          </button>
                  </div>
              </div>
          </form>
      </div>
  </div>

  <div class="row">
    <div class="col-md-6"></div>
    <div class="input-group col-md-6">
      <input (keyup)="onSearch($event.target.value)"  type="text" class="form-control"
        placeholder="Search by EmpCode" />
    </div>
  </div>
  <div class="row" style="overflow:scroll;max-height: 300px;">
    <div class="data-table">
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>SN</th>
                    <th>Code</th>
                    <th>Separation</th>
                    <th>Date</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of tempItem;let i=index">
                    <td>{{i+1}}</td>
                    <td>{{item.empCode}}</td>
                    <td>{{item.resignType}}</td>
                    <td>{{item.date | date:'dd MMM, yyyy'}}</td>
                    <td>
                        <button (click)="getById(item.id);" type="" class="btn btn-sm btn-info">
            <span class="fas fa-edit"></span></button>&nbsp;
                        <button (click)="delete(item.id,deleteModal)" type="" class="btn btn-sm btn-danger">
            <span class="fas fa-trash"></span></button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    </div>

</div>

<ng-template #deleteModal>
  <div class="modal-header">
      <h5 class="modal-title">Confirmation</h5>
  </div>
  <div class="modal-body">
      <p>Are you sure want to delete?</p>
  </div>
  <div class="modal-footer">
      <button (click)="cancel()" class="btn btn-secondary">Cancel</button>
      <button (click)="confirm()" class="btn btn-danger">Confirm</button>
  </div>
</ng-template>
