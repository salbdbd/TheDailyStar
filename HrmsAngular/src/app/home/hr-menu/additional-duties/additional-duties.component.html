<div class="card section">
    <h4 class="card-header text-center bg-light">
        Employment Additional Duties Information
    </h4>
    <div class="card-body">
        <form [formGroup]="additionalDutiesForm">
            <div class="row">
                <br />
                <div class="col-md-6">
                    <br />
                    <div class="form-group row">
                        <label class="col-form-label col-sm-4 "> Employee Id
            </label>
                        <div class="input-group col-sm-8">
                            <app-employee-select-list [isRequired]="f['empCode'].invalid && (isSubmitted || f['empCode'].touched || f['empCode'].dirty)" (onChange)="getEmpInfo($event.empCode)" [setEmpCode]="formVal.empCode">
                            </app-employee-select-list>
                            <div *ngIf="f['empCode'].invalid && (isSubmitted || f['empCode'].touched || f['empCode'].dirty)" class="text-danger">
                                <i *ngIf="f['empCode'].errors['required']">Employee Code is required</i>
                            </div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-form-label col-sm-4 ">Employee Name
            </label>
                        <div class="col-sm-8">
                            <input disabled formControlName="empName" type="text" class="form-control" placeholder="Employee Name">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-form-label col-sm-4 ">Designation
            </label>
                        <div class="col-sm-8">
                            <input disabled formControlName="designationName" type="text" class="form-control" placeholder="Designation">
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <br />
                    <div class="form-group row">
                        <label class="col-form-label col-sm-4 ">Department

            </label>
                        <div class="col-sm-8">
                            <input disabled formControlName="departmentName" type="text" class="form-control" placeholder="Department">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-form-label col-sm-4 ">Joining Date
            </label>

                        <div class="input-group col-sm-8">
                            <input disabled formControlName="joinDateNgb" class="form-control" name="dp" placeholder="dd-mm-yyyy" ngbDatepicker #d="ngbDatepicker">
                            <div class="input-group-append">
                                <button class="input-group-text" (click)="d.toggle()" type="button">
                  <span class="ion ion-md-calendar" style="cursor: pointer;"></span>
                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <br />
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group row">
                        <label class="col-form-label col-sm-4 ">Type/Category
              <i class="text-danger">*</i>
            </label>
                        <div class="col-sm-8">
                            <select [ngClass]="{'is-invalid': (isSubmitted || f['payType'].touched ||f['payType'].dirty) && f['payType'].invalid}" formControlName="payType" class="custom-select ">
                <option value=0>Select type</option>
                <option value=1>With Pay</option>
                <option value=2>Without Pay</option>
              </select>
                            <div *ngIf="f['payType'].invalid && (isSubmitted || f['payType'].touched || f['payType'].dirty)" class="text-danger">
                                <i *ngIf="f['payType'].errors['required']">payType is required</i>
                            </div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-form-label col-sm-4 ">Designation
              <i class="text-danger">*</i>
            </label>
                        <div class="col-sm-8">
                            <app-basic-entry-select-list [isRequired]="f['designation'].invalid && (isSubmitted || f['designation'].touched || f['designation'].dirty)" [itemId]="formVal.designation" (onChange)="f['designation'].setValue($event.id)" [tableName]="'Designation'" [modalName]="desigModel">
                            </app-basic-entry-select-list>
                            <ng-template #desigModel>
                                <app-designation (getItems)="allDesignation=$event">
                                </app-designation>
                            </ng-template>
                            <div *ngIf="f['designation'].invalid && (isSubmitted || f['designation'].touched || f['designation'].dirty)" class="text-danger">
                                <i *ngIf="f['designation'].errors['required']">Designation is required</i>
                            </div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-form-label col-sm-4 ">Responsibilities
              <i class="text-danger">*</i>
            </label>
                        <div class="col-sm-8" style="height: 40px">
                            <input [ngClass]="{'is-invalid': (isSubmitted || f['responsibilities'].touched || f['responsibilities'].dirty) && f['responsibilities'].invalid}" formControlName="responsibilities" type="text" class="form-control" placeholder="Responsibilities">
                            <div *ngIf="f['responsibilities'].invalid && (isSubmitted || f['responsibilities'].touched || f['responsibilities'].dirty)" class="text-danger">
                                <i *ngIf="f['responsibilities'].errors['required']">Responsibilities is required</i>
                            </div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-form-label col-sm-4 ">From Date
              <i class="text-danger">*</i>
            </label>

                        <div class="input-group col-sm-8">
                            <input [ngClass]="{'is-invalid': (isSubmitted || f['effFromDateNgb'].touched || f['effFromDateNgb'].dirty) && f['effFromDateNgb'].invalid}" readonly formControlName="effFromDateNgb" class="form-control" name="dp2" placeholder="dd-mm-yyyy" ngbDatepicker
                                #d2="ngbDatepicker">
                            <div class="input-group-append">
                                <button class="input-group-text" (click)="d2.toggle()" type="button">
                  <span class="ion ion-md-calendar" style="cursor: pointer;"></span>
                </button>
                            </div>
                        </div>
                        <label class="col-form-label col-sm-4 ">
            </label>
                        <div *ngIf="f['effFromDateNgb'].invalid && (isSubmitted || f['effFromDateNgb'].touched || f['effFromDateNgb'].dirty)" class="text-danger">
                            <i *ngIf="f['effFromDateNgb'].errors['required']">From Date is required</i>
                        </div>

                    </div>
                    <div class="form-group row">
                        <label class="col-form-label col-sm-4 ">Duration
              <i class="text-danger">*</i>
            </label>
                        <div class="col-sm-8" style="height: 40px">
                            <input [ngClass]="{'is-invalid': (isSubmitted || f['duration'].touched ||f['duration'].dirty) && f['duration'].invalid}" formControlName="duration" type="text" class="form-control" placeholder="Duration">
                            <div *ngIf="f['duration'].invalid && (isSubmitted || f['duration'].touched || f['duration'].dirty)" class="text-danger">
                                <i *ngIf="f['duration'].errors['required']">Duration is required</i>
                            </div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-form-label col-sm-4 ">Remarks
            </label>
                        <div class="col-sm-8" style="height: 40px">
                            <input formControlName="remark" type="text" class="form-control" placeholder="Remarks">
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group row">
                        <label class="col-form-label col-sm-4 ">Department/Sub committee
              <i class="text-danger">*</i>
            </label>
                        <div class="col-sm-8">
                            <app-basic-entry-select-list [isRequired]="f['department'].invalid && (isSubmitted || f['department'].touched || f['department'].dirty)" [itemId]="formVal.department" (onChange)="f['department'].setValue($event.id)" [tableName]="'Department'" [modalName]="deptModel">
                            </app-basic-entry-select-list>
                            <ng-template #deptModel>
                                <app-department (getItems)="allDepartment=$event">
                                </app-department>
                            </ng-template>
                            <div *ngIf="f['department'].invalid && (isSubmitted || f['department'].touched || f['department'].dirty)" class="text-danger">
                                <i *ngIf="f['department'].errors['required']">Department is required</i>
                            </div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-form-label col-sm-4 ">School/Office/Committee
              <i class="text-danger">*</i>
            </label>
                        <div class="col-sm-8">
                            <app-basic-entry-select-list [isRequired]="f['schoolorOffice'].invalid && (isSubmitted || f['schoolorOffice'].touched || f['schoolorOffice'].dirty)" [itemId]="formVal.schoolorOffice" (onChange)="f['schoolorOffice'].setValue($event.id)" [tableName]="'AreaorUnit'"
                                [modalName]="unit">
                            </app-basic-entry-select-list>
                            <ng-template #unit>
                                <app-unit (getItems)="allUnit=$event">
                                </app-unit>
                            </ng-template>
                            <div *ngIf="f['schoolorOffice'].invalid && (isSubmitted || f['schoolorOffice'].touched || f['schoolorOffice'].dirty)" class="text-danger">
                                <i *ngIf="f['schoolorOffice'].errors['required']">Unit is required</i>
                            </div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-form-label col-sm-4 ">Notice Issue Date
              <i class="text-danger">*</i>
            </label>
                        <div class="input-group col-sm-8">
                            <input [ngClass]="{'is-invalid': (isSubmitted || f['noticeIssuedDateNgb'].touched || f['noticeIssuedDateNgb'].dirty) && f['noticeIssuedDateNgb'].invalid}" readonly formControlName="noticeIssuedDateNgb" class="form-control" name="dp1" placeholder="dd-mm-yyyy"
                                ngbDatepicker #d1="ngbDatepicker">
                            <div class="input-group-append">
                                <button class="input-group-text" (click)="d1.toggle()" type="button">
                  <span class="ion ion-md-calendar" style="cursor: pointer;"></span>
                </button>
                            </div>
                        </div>
                        <label class="col-form-label col-sm-4 ">
            </label>
                        <div *ngIf="f['noticeIssuedDateNgb'].invalid && (isSubmitted || f['noticeIssuedDateNgb'].touched || f['noticeIssuedDateNgb'].dirty)" class="text-danger">
                            <i *ngIf="f['noticeIssuedDateNgb'].errors['required']">Notice Date is required</i>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-form-label col-sm-4 ">To Date
              <i class="text-danger">*</i>
            </label>
                        <div class="input-group col-sm-8">
                            <input [ngClass]="{'is-invalid': (isSubmitted || f['effToDateNgb'].touched || f['effToDateNgb'].dirty) && f['effToDateNgb'].invalid}" readonly formControlName="effToDateNgb" class="form-control" name="dp3" placeholder="dd-mm-yyyy" ngbDatepicker #d3="ngbDatepicker">
                            <div class="input-group-append">
                                <button class="input-group-text" (click)="d3.toggle()" type="button">
                  <span class="ion ion-md-calendar" style="cursor: pointer;"></span>
                </button>
                            </div>
                        </div>
                        <label class="col-form-label col-sm-4 ">
            </label>
                        <div *ngIf="f['effToDateNgb'].invalid && (isSubmitted || f['effToDateNgb'].touched || f['effToDateNgb'].dirty)" class="text-danger">
                            <i *ngIf="f['effToDateNgb'].errors['required']">To Date is required</i>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-form-label col-sm-4 ">Payment Amount

            </label>
                        <div class="col-sm-8">
                            <input formControlName="amount" type="number" class="form-control" placeholder="Payment Amount">
                        </div>
                    </div>

                </div>
                <div class="demo-inline-spacing mt-3" style="margin:0 auto">
                    <button (click)="reset()" type="clear" class="btn btn-info">
                    <span class="ion ion-ios-refresh"></span> Reset
                  </button>
                    <button (click)="save()" type="" class="btn btn-success"> {{btnStatus}}
          </button>
                </div>

            </div>
            <br />
            <div class="row">
                <table class="table  table-bordered table-striped">
                    <thead>
                        <tr>
                            <th>EmpCode</th>
                            <th>Responsibilities</th>
                            <th>Duration</th>
                            <th>Amount</th>
                            <th>Edit</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let list of additionalDuties">
                            <td>{{list.empCode}}</td>
                            <td>{{list.responsibilities}}</td>
                            <td>{{list.duration}}</td>
                            <td>{{list.amount}}</td>
                            <td>
                                <button (click)="getById(list.id)" type="" class="btn btn-info btn-sm">
                  <span class="fas fa-edit"></span></button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </form>
    </div>
</div>
